DEPTH=../../../../..
topsrcdir=@top_srcdir@
objdir=@objdir@
srcdir=.
VPATH=.
otdir=@otdir@
ottdir=@ottdir@

include $(ottdir)/config.mk

ifdef OT_HAS_SYSTRAY_UNIX
	OT_EXTRA_SRCS += \
	    otSystrayGtk2.cpp \
	    $(NULL)
endif

ifdef OT_HAS_SYSTRAY_WIN
	OT_EXTRA_SRCS += \
	    otSystrayWin.cpp \
	    $(NULL)
endif

NO_DIST_INSTALL=1
MODULE=oneteam
LIBRARY_NAME=ot_systray_s
REQUIRES= \
	xpcom \
	dom \
	imglib2 \
	gfx \
	content \
	layout \
	$(OT_EXTRA_REQS) \
	$(NULL)

CPPSRCS= \
	otSystrayBase.cpp \
	otPr0nObserver.cpp \
	$(OT_EXTRA_SRCS) \
	$(NULL)

FORCE_STATIC_LIB = 1

include $(ottdir)/rules.mk

INCLUDES+= \
	-I$(otdir)/src/systray \
	-I$(otdir)/src/systray/includes \
	$(NULL)
